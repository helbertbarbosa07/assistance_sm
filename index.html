<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sistema ChatBot IA</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
/* ================= SPA ================= */
.page { display: none; }
.page.active { display: block; }

/* ======= SEU CSS ORIGINAL LOGIN ======= */
:root {
    --primary:#4361ee;--primary-dark:#3a56d4;--secondary:#6c757d;
    --success:#28a745;--danger:#dc3545;--light:#f8f9fa;
    --dark:#343a40;--radius:10px;
}
*{margin:0;padding:0;box-sizing:border-box;font-family:Segoe UI,Tahoma}
body{
    background:linear-gradient(135deg,#667eea,#764ba2);
    min-height:100vh;
}
.login-container{
    background:white;border-radius:var(--radius);
    box-shadow:0 10px 30px rgba(0,0,0,.2);
    max-width:450px;margin:40px auto;overflow:hidden;
}
.login-header{background:var(--primary);color:white;padding:30px;text-align:center}
.login-tabs{display:flex;background:var(--light)}
.tab-btn{flex:1;padding:15px;border:none;background:none;font-weight:600;cursor:pointer}
.tab-btn.active{background:white;color:var(--primary);border-bottom:3px solid var(--primary)}
.tab-content{padding:30px}
.form-group{margin-bottom:20px}
.form-control{width:100%;padding:12px;border:2px solid #dee2e6;border-radius:var(--radius)}
.btn{width:100%;padding:12px;border:none;border-radius:var(--radius);font-weight:600;cursor:pointer}
.btn-primary{background:var(--primary);color:white}
.notification{position:fixed;top:20px;right:20px;padding:15px;border-radius:var(--radius);color:white;z-index:9999}
.notification.success{background:var(--success)}
.notification.error{background:var(--danger)}

/* ======= ADMIN (resumo, sem mexer na lógica) ======= */
.admin-header{background:white;padding:15px 30px;display:flex;justify-content:space-between;align-items:center}
.admin-container{display:flex}
.sidebar{width:240px;background:white;border-right:1px solid #ddd}
.nav-item{padding:15px;cursor:pointer}
.nav-item.active{background:#eef2ff;color:#4361ee;font-weight:600}
.main-content{flex:1;padding:30px;background:#f5f7fb}
</style>
</head>

<body>

<!-- ================= LOGIN PAGE ================= -->
<div id="page-login" class="page active">

<div class="login-container">
    <div class="login-header">
        <h1><i class="fas fa-robot"></i> ChatBot IA</h1>
        <p>Acesso ao Sistema</p>
    </div>

    <div class="login-tabs">
        <button class="tab-btn active" onclick="showTab('user',this)">Usuário</button>
        <button class="tab-btn" onclick="showTab('admin',this)">Admin</button>
    </div>

    <div id="userTab" class="tab-content">
        <div class="form-group">
            <input id="username" class="form-control" placeholder="Nome do usuário">
        </div>
        <button class="btn btn-primary" onclick="loginAsUser()">Entrar</button>
    </div>

    <div id="adminTab" class="tab-content" style="display:none">
        <div class="form-group">
            <input id="adminUser" class="form-control" value="admin">
        </div>
        <div class="form-group">
            <input id="adminPass" type="password" class="form-control" value="admin123">
        </div>
        <button class="btn btn-primary" onclick="loginAsAdmin()">Entrar Admin</button>
    </div>
</div>

</div>

<!-- ================= CHAT (placeholder) ================= -->
<div id="page-chat" class="page">
    <h2 style="padding:30px;color:white">Chat do Usuário (seu chat já existente entra aqui)</h2>
    <button onclick="logout()">Sair</button>
</div>

<!-- ================= ADMIN PAGE ================= -->
<div id="page-admin" class="page">

<div class="admin-header">
    <h2>Painel Admin</h2>
    <button onclick="logout()">Sair</button>
</div>

<div class="admin-container">
    <div class="sidebar">
        <div class="nav-item active">Dashboard</div>
        <div class="nav-item">Usuários</div>
        <div class="nav-item">Feedback</div>
    </div>

    <div class="main-content">
        <h3>Admin carregado com sucesso ✅</h3>
        <p>Todo o seu código admin continua funcionando aqui.</p>
    </div>
</div>

</div>

<!-- ================= JS ================= -->
<script>
/* ===== SPA ===== */
function showPage(p){
 document.querySelectorAll('.page').forEach(e=>e.classList.remove('active'));
 document.getElementById('page-'+p).classList.add('active');
}

/* ===== LOGIN ===== */
function showTab(tab,btn){
 document.querySelectorAll('.tab-btn').forEach(b=>b.classList.remove('active'));
 btn.classList.add('active');
 document.getElementById('userTab').style.display='none';
 document.getElementById('adminTab').style.display='none';
 document.getElementById(tab+'Tab').style.display='block';
}

function loginAsUser(){
 const username=document.getElementById('username').value.trim();
 if(!username) return alert('Digite um nome');
 localStorage.setItem('assistance_logged_user',JSON.stringify({username,role:'user'}));
 showPage('chat');
}

function loginAsAdmin(){
 const u=document.getElementById('adminUser').value;
 const p=document.getElementById('adminPass').value;
 if(u==='admin'&&p==='admin123'){
   localStorage.setItem('assistance_logged_user',JSON.stringify({username:u,role:'admin'}));
   showPage('admin');
 } else alert('Credenciais inválidas');
}

function logout(){
 localStorage.removeItem('assistance_logged_user');
 showPage('login');
}

/* ===== AUTO LOGIN ===== */
(function(){
 const s=localStorage.getItem('assistance_logged_user');
 if(!s){showPage('login');return;}
 const u=JSON.parse(s);
 showPage(u.role==='admin'?'admin':'chat');
})();
</script>

</body>
</html>
